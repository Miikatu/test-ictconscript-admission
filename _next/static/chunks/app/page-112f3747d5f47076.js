(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2878:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>h});var s=l(5155),i=l(3319);function a(e){let{children:t,onClick:l,className:i=""}=e;return(0,s.jsx)("button",{onClick:l,className:" h-10 px-4 py-2 inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors ".concat(i),children:t})}var n=l(2115),o=l(4516),r=l(3578);let d=JSON.parse('[{"id":"1","title":"Night perimeter check","body":"All clear around main gate.","isoTime":"2025-05-14T21:30:00Z","lat":60.1503,"lon":25.0293},{"id":"2","title":"Generator maintenance","body":"Changed oil and inspected filters.","isoTime":"2025-05-15T07:15:00Z","lat":60.1561,"lon":25.0249},{"id":"3","title":"Weather update","body":"Heavy rainfall expected after 1600 hrs.","isoTime":"2025-05-15T09:40:00Z","lat":null,"lon":null},{"id":"4","title":"Drone sighting","body":"Quad-copter over Vuosaari direction, 200 m AGL.","isoTime":"2025-05-15T12:03:00Z","lat":60.1568,"lon":25.0472},{"id":"5","title":"Supply drop received","body":"Ammo and rations accounted for.","isoTime":"2025-05-15T14:55:00Z","lat":60.1534,"lon":25.0367},{"id":"6","title":"Radio outage","body":"Primary HF link down for 12 min — rebooted transceiver.","isoTime":"2025-05-15T16:22:00Z","lat":null,"lon":null},{"id":"7","title":"Medical check","body":"One soldier treated for mild hypothermia.","isoTime":"2025-05-15T18:05:00Z","lat":60.151,"lon":25.0324},{"id":"8","title":"Patrol departure","body":"Alpha team left for sector Santahamina east shore.","isoTime":"2025-05-15T19:40:00Z","lat":60.1496,"lon":25.0441},{"id":"9","title":"Wildlife interference","body":"Fox damaged comms cable near OP-2; temporary fix applied.","isoTime":"2025-05-15T20:18:00Z","lat":60.1479,"lon":25.0198},{"id":"10","title":"Sync to HQ","body":"Logbook synced over SATCOM. All entries acknowledged.","isoTime":"2025-05-16T06:45:00Z","lat":null,"lon":null}]');var c=l(5028);let m=(0,c.default)(()=>Promise.all([l.e(484),l.e(761),l.e(690),l.e(390),l.e(446)]).then(l.bind(l,1446)).then(e=>e.MapModal),{loadableGenerated:{webpack:()=>[1446]},ssr:!1,loading:()=>(0,s.jsx)("p",{children:"Loading map..."})}),x=(0,c.default)(()=>Promise.all([l.e(484),l.e(761),l.e(690),l.e(390),l.e(880)]).then(l.bind(l,5880)).then(e=>e.Modal),{loadableGenerated:{webpack:()=>[5880]},ssr:!1,loading:()=>(0,s.jsx)("p",{children:"Loading modal..."})});function h(){let[e,t]=(0,n.useState)(!1),[l,c]=(0,n.useState)(d),[h,u]=(0,n.useState)(!0),[f,g]=(0,n.useState)(!1),[p,b]=(0,n.useState)({});return(0,n.useEffect)(()=>(f?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[f]),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Platoon Logbook"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Field Operations Daily Log"})]}),(0,s.jsx)(a,{onClick:()=>t(!0),className:" bg-green-700 hover:bg-green-800",children:"+ Add Entry"})]}),(0,s.jsxs)(a,{onClick:()=>u(e=>!e),className:" text-gray-600 hover:text-gray-900",children:[" ⇅: ",h?"Newest First":"Oldest First"]}),e&&(0,s.jsxs)("div",{className:"inset-0 flex items-center justify-center bg-gray-100",children:[(0,s.jsx)(x,{onClose:()=>t(!1),onSubmit:e=>{let s={...e,id:(l.length+1).toString(),isoTime:new Date().toISOString()};c(e=>[...e,s]),t(!1)}}),(0,s.jsx)("div",{className:""})]}),(0,s.jsx)("div",{className:"space-y-4",children:l.slice().sort((e,t)=>h?new Date(t.isoTime).getTime()-new Date(e.isoTime).getTime():new Date(e.isoTime).getTime()-new Date(t.isoTime).getTime()).map(e=>(0,s.jsx)("div",{className:"bg-white rounded-sm border bg-card text-card-foreground shadow-sm hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"pb-3 flex flex-col space-y-1.5 p-6",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-gray-400 font-mono inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:["#",e.id]}),(0,s.jsx)("div",{className:"text-gray-800 text-lg text-2xl font-semibold leading-none tracking-tight",children:e.title})]})}),(0,s.jsxs)("div",{id:"date",className:"flex flex-col sm:flex-row gap-4 text-sm text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[(0,s.jsx)("div",{className:"h-4"}),(0,i.GP)(new Date(e.isoTime),"MMM dd, yyyy HH:mm")]}),(0,s.jsx)("div",{id:"coordinates",className:"",children:e.lat&&e.lon&&(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("a",{href:"https://maps.google.com/?q=".concat(e.lat,",").concat(e.lon),className:" text-blue-600 hover:text-blue-800 hover:underline",children:[(0,s.jsx)(o.A,{className:"w-4 h-4 inline"}),((e,t)=>{if("number"==typeof e&&"number"==typeof t)return"".concat(e.toFixed(4),"\xb0N, ").concat(t.toFixed(4),"\xb0E")})(e.lat,e.lon)]}),(0,s.jsxs)("div",{onClick:()=>{b({lat:e.lat,lon:e.lon}),g(!0)},className:"px-2 cursor-pointer border-blue-400  text-black hover:text-gray-700 hover:underline",children:[(0,s.jsx)(r.A,{className:"inline py-0 mb-2"}),"Show on Map"]})]})})]}),f&&p.lat&&p.lon&&(0,s.jsx)("div",{className:"fixed z-50 inset-0 flex backdrop-blur-sm items-center justify-center ",children:(0,s.jsxs)("div",{className:"bg-white  rounded-sm border shadow-lg w-100 max-w-2xl p-4 relative",children:[(0,s.jsx)("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>g(!1),children:"✕"}),(0,s.jsx)("div",{id:"leaflet-map",className:"pt-5 h-[400px] rounded-sm overflow-hidden",children:(0,s.jsx)(m,{lat:p.lat,lon:p.lon})})]})}),(0,s.jsx)("div",{id:"",className:"pt-0 ",children:(0,s.jsx)("p",{className:"text-gray-700",children:e.body})})]})},e.id))})]})})}},6200:(e,t,l)=>{Promise.resolve().then(l.bind(l,2878))}},e=>{e.O(0,[640,441,964,358],()=>e(e.s=6200)),_N_E=e.O()}]);